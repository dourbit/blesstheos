#!/usr/bin/env bash

# Installs the node version while keeping the same global packages from current.
# Anything nvm will take is valid: stable, default, lts/* specific version, etc.
# Defaults to lts/* (for long-term support)

# https://github.com/nvm-sh/nvm#migrating-global-packages-while-installing

[[ $# -eq 0 ]] && kind="lts/*" || kind="$1"

\. "$NVM_DIR/nvm.sh"
nvm install ${kind} --reinstall-packages-from=current --latest-npm && \
  nvm alias default ${kind} #if $kind is N/A this won't run
