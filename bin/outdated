#!/usr/bin/env bash

# Using: specho onApt snapOn
holy-dot src/ install util os bin-fn/ check-x silent

# NOTE: brewOn ignored on purpose due to HOLY_BREW_ON ambiguity
if check-x brew; then
  specho Homebrew:
  brew outdated
fi

if onApt; then
  specho Apt:
  apt list --upgradeable
fi

if snapOn; then
  specho Snap:
  snap refresh --list
fi

# NOTE: Flatpak doesn't seem to have a concept of outdated packages,
# and though it auto-updates - an explicit update would run blindly.

if check-x pip-review; then
  specho Python:
  pip-review
fi

if silent holy on desktop/editor/atom; then
  specho Atom:
  # NOTE alias: als-up
  apm upgrade -l
fi

if check-x npm; then
  specho NPM:
  # NOTE alias: nls-up
  npm -g outdated --depth=0
fi

if check-x lein; then
  specho Leiningen User Profiles:
  lein ancient check-profiles ~/.lein/profiles.clj 2>/dev/null
fi

# only informing, so being outdated isn't an error
exit 0
